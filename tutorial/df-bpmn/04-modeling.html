<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Our style-->
    <link rel="stylesheet" href="../styles.css">
    <title>Lab</title>
</head>

<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4"><a href="02-general-explanation.html"> Exercise 2</a> (b): Create a process model</h1>
            <p class="lead">This exercise is about adding BPMN to the DF-BPMN tool, including the data flow of each
                activity.</p>
        </div>
    </div>
    <div class="wrapper">
        <h2>Convert BPMN to a process model in the tool.</h2>
        In this exercise, you need to create the BPMN model below in the DF-BPMN tool, including the data flow of each
        activity. To begin, we will explain where you can find the elements of the process model. Then, you should be
        able to add activities and data within each activity.
        <br>
        <img src="../example/example-BPMN.png" align="middle" width="800" />
        <br>
        <br>
        <h3>DF-BPMN symbols</h3>
        <img src="04-modeling/01-df-bpmn-symbol.png" width="600" />
        <br><br>
        These symbols represent the data flow of each activity. There are different data types:
        <ul>
            <li><b>Data object:</b> These are the process variables used during the execution phase.</li>
            <li><b>Data store:</b> These are the business data that are stored or retrieved from the database (BDM
                within Bonita Studio).</li>
            <li><b>Data user:</b> This is the data needed to be read from the user to continue the activity tasks (Fill
                in information from the user to be used within the process model).</li>
            <li><b>Data system:</b> These are the data that are read from or sent to a server system (e.g., auto-sending
                email, auto-checking the calendar).</li>
        </ul>
        The icon of the data object represents different data types.<br>
        (a), (c), (e), (f), and (g) are input data, where:
        <ul>
            <li>(a): This is a simple data input. This input object has a name, type, and can also be attached with
                attributes. The object type can be a simple type like string, integer, or a complex type like the UML
                object name (Request in this example).</li>
            <li>(c): This is a multi-instance data input. This input object also has a name, type, and can be attached
                with attributes. It is used to represent a multi-instance object or a list of objects of the same data
                type.</li>
            <li>(e) and (f): These are two data objects that depend on each other. If we have (e), it should be
                connected to (f). (e) is used to indicate that we need data from a list from the database. However, (f)
                is used to indicate that the user needs to select one (or more) objects from the database.</li>
            <li>(g): This is a static data input. This input object has a name, type, and value. This data object is
                used to represent a fixed value that we need to use within our model.</li>
        </ul>
        <br>
        (b) and (d) represent output data, where:
        <ul>
            <li>
                (b): This is a simple data output object. This output object has a name, type, and can also be attached
                with attributes. It is linked to a state to represent the operation on this object. The object type can
                be a simple type like string or integer, or a complex type like the UML object name (Request in this
                example).
                <br>
                State can be:
                <ol>
                    <li>init: for the creation of a new data object.</li>
                    <li>read: for reading a data object.</li>
                    <li>delete: for deleting a data object.</li>
                    <li>update: for updating a data object.</li>
                </ol>
            </li>
            <li>
                (d): This is a multi-instance data output object. This output object has a name, type, and can also be
                attached with attributes. It is also linked to a state to represent the operation on this object.
            </li>
        </ul>
        <br>
        (h): This is the data processing operator that represents complex data operations such as sum and conditions.
        <br>
        This operator is connected to the data input and data output objects.
        <br>
        <br>
        (i): This is the flow that connects the inputs to the outputs. Additionally, we can connect the outputs to the
        outputs and connect the data operator to the input and output.
        <br>
        <br>
        <h3>Add Pool and Lane</h3>
        <ol>
            After opening your project (double-click on the project file name), you can start the modeling. You can find
            all the elements in the 'Palette'.
            <li>
                From the 'Palette,' click on 'Pool,' and then click on the white space to add the pool.
                <br>
                <img src="04-modeling/02-add-pool.png" width="600" />
            </li>
            <li>
                Next, we should add the lane to our process model. You can do that by clicking on 'Lane' (find it in the
                'Palette') and then clicking on the name of your pool to add a new lane.
                <br>
                <img src="04-modeling/03-add-lane.png" width="600" />
            </li>
            <li>
                To change the Pool name, click on the pool (on the pool name). Then, you should open the properties
                panel. In the 'General' tab, you can change the name of your pool.
                <br>
                <img src="04-modeling/04-change-pool-name.png" width="600" />
            </li>
            <li>
                To change the Lane name, click on the pool (on the pool name). Then, you should open the properties
                panel. In the 'Lanes' tab, you can change the names of your lanes (which is a list of all your lanes in
                the selected pool).
                <br>
                <img src="04-modeling/05-change-lane-name.png" width="600" />
            </li>
        </ol>
        <h3>Add Process Model Elements</h3>
        <ol>
            <li>
                You can find all the process elements in the 'Palette.' In the DF-BPMN tool, we suggest adding an
                activity and then directly adding its data elements. This is helpful for reducing the time spent
                expanding the activity.
                <br>
                <img src="04-modeling/06-process-element.png" width="200" />
            </li>
            <li>
                From the property panel, you can change the name of the activity, and you can also expand and collapse
                an activity.
                <br>
                <img src="04-modeling/08-activitypanel.png" width="600" />
            </li>
        </ol>

        <h3>Add data within the activity</h3>
        <ol>
            <li>
                Before adding data to the activity, ensure that the activity is expanded. Then, you can adjust its size
                according to your needs.
                <br>
                <img src="04-modeling/08-activitypanel.png" width="600" />
            </li>
            <li>
                All the data can be found within the panel. You can select the data object you need and then add it to
                the activity.
                <br>
                <img src="04-modeling/07-data-element.png" width="200" />
            </li>
            <li>
                You can change the name of the data object from the property panel, and you can also change the type and
                state in the case of an output object.
                <br>
                <img src="04-modeling/09-data-panel.png" width="600" />
            </li>

            <li>
                In another case (not included in this example), you can add the data processing operator. This operator
                is used to define specific data operations like sum, and so on.
                <br>
                To do that, after adding the data processing operator and connecting it to the data object inputs and
                outputs, you should add the description of the operator by opening the property panel. Within the
                'Documents' section, you can add the description using your own words. Then, click on 'Generate
                Behavior.' After a few seconds, the data operations will be expressed in another language, which will be
                used later as code in the next exercise.
                <br>
                <img src="04-modeling/09-gherkin.png" width="600" />
            </li>
        </ol>

        <h3>Add data to the following activity</h3>
        In this exercise, you need to create a process model using the DF-BPMN tool and also add the data for each
        activity.
        You have some hints for the activities you want to create; don't forget to add sequence flows between
        activities.
        <br>
        <h4>Process description</h4>
        A user fills out a procurement request (including a summary and description) and identifies a supplier. This
        request is then sent to the supplier for a quotation. The supplier should add the following information to the
        quotation: price, comments, and whether they accept or not. The status of the quotation will automatically
        change to 'completed.'
        <br>
        After completion, the quotations are sent back to the requester for review and selection. Before starting the
        review process, the status of the request will be changed to 'pending for review.' During the review of the
        quotation, the requester should either accept or reject it. Finally, based on the decision of the requester, the
        request status will change to 'completed' or 'abort.'
        <br>
        To effectively implement the process, developers must understand how the information is conceptually structured
        and arranged within each class (suppliers, quotations, and requests) and how the process interacts with it
        <br>
        <br>
        <br>
        <ol>
            <li>
                <b>Activity "Create request and select supplier"</b>
                In this activity, we need to create two main objects:
                <ul>
                    <li>Request, which includes the summary and description.</li>
                    <li>Quotation, which is created based on the request and the selected supplier.</li>
                </ul>
                To accomplish this, we must gather information from the user for the request. Additionally, the supplier
                should be selected from the database before creating the new quotation.
                <br>
                This activity, with the associated data, expresses all the required information. Please add it to your
                process model.
                <br>
                <img src="04-modeling/10-create-request.png" width="500" />
            </li>

            <li>
                <b>Activity "Complete quotation"</b>
                <br>
                In this activity, the supplier (represented by the lane) should provide information about the quotation.
                This activity is meant to update the quotation that was created in the first activity.
                <br>
                To find the data object related to this activity, refer to the process description.
                <br>
                Note: In the first activity, you defined the 'quotation' data object. You should use the same name for
                this data object throughout the entire process model to reference the same data object.
                <br>
                Hint: In this activity, you have three data user inputs and one static input. Additionally, you have one
                data object output with four attributes.
                <br>
                Please add the necessary data elements to this activity in your model.
            </li>
            <br>
            <li>
                <b>Activity "Update request status"</b>
                <br>
                After extracting the data information from the process description, please add this activity.
            </li>
            <li>
                <b>Activity "Review quotation"</b>
                <br>
                After this activity, there is a gateway. Therefore, we can add a process variable to use it later in
                making a decision after the gateway.
                <br>
                This activity can be modeled in two ways:
                <ol>
                    <li>
                        The first way is to simply review the request and update it based on whether it is accepted or
                        not. Then, use the request attribute (isAccepted) to make a decision.
                        <br>
                        <img src="04-modeling/16-review-quotation.png" width="500" />
                    </li>
                    <li>
                        In another way, we can define the process variable, which will be used later in the gateway, and
                        then update the request if it is accepted or not.
                        <br>
                        <img src="04-modeling/17-review-quotation2.png" width="500" />
                    </li>
                </ol>
                <br>
                Add this activity to your model.
                <br>
                Note: You should always use the same name for the data that you have used before, which is 'request'.
            </li>
            <br>
            <li>
                <b>Activity "Complete request"</b>
                <br>
                Add this activity and extract the data information from the process description.
                <br>
                Note: You should always use the same name for the data that you have used before.
            </li>
            <br>
            <li>
                <b>Activity "Abort request"</b>
                <br>
                Add this activity and extract the data information from the process description.
                <br>
                Note: You should always use the same name for the data that you have used before.
            </li>
            <br>
        </ol>
        <br>
        At the end of this exercise, you should have all the activities illustrated in the process model (BPMN to
        DF-BPMN tool), as well as the data operations within each activity.
        <br>
        <br>
        <h4><a href="05-convert-to-bonita.html">Next Exercise</a></h4>

    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>